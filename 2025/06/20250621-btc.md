# btc: txoutproof の Merkle branch

_2025/06/21_

[前回](./20250615-btc.md) は TXID のリストから IN-OUT をつなげた図を作るツールを作った・・・作ってもらった。  
今回は [txoutproof](/bitcoin/01_basics/txoutproof.html) の出力をツリー図にした。  

最初はね、引数の 16進数文字列を `[]byte` にするのが面倒だったのでそこだけ Gemini Code Assist にやってもらったのだよ。  
あとは自分でやろうとしたのだが、最初の 80バイトはブロックヘッダなのでお願いできるかな？と思ったらやってくれた。  
その次のデータも、データ構造を説明するとデコードしてくれた。

さすがに部分マークルツリーは無理だろうと思って、GraphViz dot を使うライブラリの組み込みと適当にグラフを作ってもらって改造しようと指示したら、
皆まで言うなって感じでマークルツリー、しかも `vBits` の `0/1` を見ながら作るところまでやってくれたではないか。

あとは、左右をきっちりしたいのとか、ターゲットTXID に色を付けたいとか、Merkle root は全部表示したいとか指示したらやってくれた。  
はー、久々に Go の勉強がてらやろうと思ったのに、できてしまったやん。

![image](/bitcoin/01_basics/images/txoutproof6.png)
