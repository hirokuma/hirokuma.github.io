---
layout: post
title: "android: プライベートスペースのロック"
tags:
  - android
date: 2025/02/04
---

Pixel7a を使っているが、銀行アプリなどをプライベートスペースにインストールしている。

* [プライベート スペースを使ってプライベートのアプリを隠す - Android ヘルプ](https://support.google.com/android/answer/15341885?hl=ja)

それまでは PC からしか銀行サイトにログインしないようにしていたのだが、
ほとんどがスマホでの認証を求めるようになった。
そういう銀行に対しては家から持ち出さないスマホにアプリをインストールして運用していたのだが、
タブレット端末だったこともあって OS のバージョンアップが行われず、アプリがとうとう対応外になってしまった。  
(Android タブレット端末を購入する場合はせめて OS が最新バージョンにしておこう。
Asus P008 は Android 7.0 だけど最近まで使えてたからな。)

Android にプライベートスペース機能が付いていたので、普段使わないお金が関係するアプリはそちらにインストールした。  
プライベートスペースは通常ロックされていて(少なくとも見た目は)、アプリの通知なども止められている。  

通常のワークスペースにインストールしたアプリをプライベートスペースにインストールするとすぐに終わるので、ある程度はファイルを共有しているようだ。  
インストールしても使えないアプリがあるようだ。
キーボード系のアプリは使用できるようにできなかった。Gboard だけになりそう。

あまりプライベートスペースは頻繁に使うものではない。  
インストールするアプリは、急にアンインストールされたとしても復旧する手段があるアプリだけにすべきだろう。
ロック解除できなかったり、間違ってプライベートスペースの削除をしてしまうという可能性があるからだ。  

## 生体情報

プライベートスペースを作ったのがずいぶん前なのではっきり覚えていないが、
ロック解除の画面パターンや生体情報をコピーか共有かわからないが使うことができる。

それで今日のことだが、指紋認証がうまくいったりいかなかったりでプライベートスペースのロックを解除できたものの
銀行アプリのログイン認証では指紋認証に何度も失敗してしまった。  
アプリ独自で指紋の情報を持っているわけではないため、プライベートスペース全体で指紋認証の情報がロックされてしまった。

プライベートスペースには専用の設定アプリはなく、かろうじてプライベートスペースの設定ができるくらいだ。  
しかしそこを見ても生体情報がロックされたような情報を見つけられなかった。  
通常のワークスペース側にも特にない。

最終的に、プライベートスペースのロック設定はデバイス側のロック設定と個別にするようにした。  
指紋認証も別途設定し直しだ。  
そして銀行アプリはロック情報が変更されたからか最初からログインして再設定を求められた。
生体情報を使うようにしていたそれぞれのアプリでやらないといけないのが面倒なところだ。
(全部の生体情報を使っていたアプリがそうではなかったのは、アプリの作りの問題か。)

## 対策？

生体情報でのログイン認証はあくまで簡易化するだけ、というのを再認識した。  
スマートフォンも電化製品なので壊れるときはプツッと壊れてしまう。
他の部品が使えていても画面が表示されないだけでほとんど使えなくなってしまうくらいには弱い。  
乱暴に扱っていたら壊れやすいだろうが、慎重に扱っていても壊れないわけではない。

そういうわけで、結局対策としては「スマホにしかない情報を持たないようにする」しかないという
どうしようもない結論になった(私の中で)。

せっかく FIDO2 のセキュリティキーがあるから何かに使えたらよいとは思うのだが、
生体認証するのに本人がいるのを考えると簡単に移動できすぎる。  
位置情報とセットにすればまだましかと思ったが、同じ建物の階が違うとかだと難しかろう。

自分が自分であるということを証明するのは難しいものだ、と改めて感じた朝であった。  
ぬぼーっとしているときに認証がいるような作業をするもんじゃないですな。
