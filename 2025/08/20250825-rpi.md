---
layout: post
title: "rpi: initramfs.conf"
tags:
  - linux
  - raspi
date: "2025/08/25"
---

Raspberry Pi3 の Raspbian OS を apt で更新した。

プロンプトで判断を促されると困るのだが、今回もそうだった。

```log
Setting up initramfs-tools-core (0.142+rpt4+deb12u3) ...

Configuration file '/etc/initramfs-tools/initramfs.conf'
 ==> Modified (by you or by a script) since installation.
 ==> Package distributor has shipped an updated version.
   What would you like to do about it ?  Your options are:
    Y or I  : install the package maintainer's version
    N or O  : keep your currently-installed version
      D     : show the differences between the versions
      Z     : start a shell to examine the situation
 The default action is to keep your current version.
*** initramfs.conf (Y/I/N/O/D/Z) [default=N] ? y

(略)

update-initramfs: Generating /boot/initrd.img-6.12.34+rpt-rpi-v8
'/boot/initrd.img-6.12.34+rpt-rpi-v8' -> '/boot/firmware/initramfs8'
update-initramfs: Generating /boot/initrd.img-6.12.34+rpt-rpi-2712
'/boot/initrd.img-6.12.34+rpt-rpi-2712' -> '/boot/firmware/initramfs_2712'
```

多少は悩んだのだけど、`initramfs.conf` は自分でいじったことがないし、
まあ別にいいかなって。

名前に "fs" が付くようにファイルシステム関連のことで、
起動時に RAM 上にファイルシステムを作って `init()` までのあれこれをやってくれるとかじゃなかったっけ。  
Ubuntu とか Debian とかではなく Linux の起動で使われると思う。  
First boot みたいなものか。

* [initramfs - Debian Wiki](https://wiki.debian.org/initramfs)

むかーしに携わった組み込み Linux のシステムでは `init()` を起動せずに
initramfs 上で全部動かして起動速度とかサイズとかをギリギリまで切り詰めてたことがあった。  
私がやったんじゃないけどね。

まあ、今ならそういうのはいらないくらい速くなってるんじゃないかな。  
そういうハードウェアの進歩はソフトウェアもまた進歩させていくのだとは思うけど、
もっとゆっくりしてくれればもう少し楽な時代が続いたのに。。。  
いや、無理だな。  
あるいは「やばい、技術の進歩と人間の能力が釣り合わなくなってきた！ バランス取るためにここで『AI』を投入！(ぽちっ)」
みたいな感じで調整されている段階かもしれない。
