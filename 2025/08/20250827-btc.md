---
layout: post
title: "btc: シュノア署名のトリック(2)"
tags:
  - bitcoin
date: "2025/08/27"
draft: true
---

4ヶ月前の記事を急に掘り起こすと何かあったんじゃないかと思われそうだが、`OP_CAT` が有効になったりはしていない。
あれは少々では整理されないだろう。

* [btc: シュノア署名のトリック - hiro99ma blog](https://blog.hirokuma.work/2025/04/20250428-btc.html)

このときは、計算できるんだねぇ、でも TXID の循環参照が何とかならないと使えないのなら、
`OP_CAT` がまだまだ先だったとして、そのさらに先ということになり、もういいかなと思ったのだ。

が一番下に「追記」があるのを読み飛ばしていただけだった。  
多少面倒そうだが、`OP_CAT` だけでも何とかできるらしい。

* [Schnorr署名とOP_CATを使ったCovenants - Develop with pleasure!](https://techmedia-think.hatenablog.com/entry/2021/07/20/213922)

Blockstream の記事を AI に突っ込んで質問したら「`OP_CAT`だけでできる」とか言い出したので、
いやいや循環参照があるやん、といろいろ返しても意見を変えず、別の AI に質問しても同じだったので
調べ直しているというところだ。

2021年ですってよ。4年前の記事について見落としてしまうとか、困ったものだわ。。。

* [CAT and Schnorr Tricks I](https://blog.blockstream.com/cat-and-schnorr-tricks-i/)

まず、`OP_CHECKSIGFROMSTACK` を使わずエミュレーションする、という話から始まっている。  
Blockstream の Elements(Liquidの元)で `OP_CAT` + `OP_CHECKSIGFROMSTACK` でそういうことをやっているらしい。
Elements は Bitcoin Core に似ているが、ブロック構造も署名の仕方も違うし、
OPコードを有効にしたりするなど実験的というか先進的というところがある。

これを `OP_CAT` だけでできるという記事だと思ったのだが...  
確かにそう書いてあるのだが、どの辺がそうなのか分からんかった。

ここら辺はそれっぽい感じがする。  
まあ、sCrypt というツールでの記載なので Bitcoinスクリプトとは違うが、雰囲気は伝わる。

* [Bitcoin OP_CAT Use Cases Series #1: Covenants - Implementation - Delving Bitcoin](https://delvingbitcoin.org/t/bitcoin-op-cat-use-cases-series-1-covenants/990)
