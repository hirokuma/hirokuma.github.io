# ble: gattlib

_2025/03/31_

## はじめに

最近コーディングというか、製品のコーディングをしていない。  
特に作りたいものもないので、ここ1年くらいで調べた範囲で作ることにした。

Raspberry Pi があるので、それに BLE central をやってもらおう。  
この時点で調べた範囲に入っていないのだが、まあよい。

## gattlib

Bluez を使ってみようと思ったのだが、使うのが難しそうだった。  
ラッパーのようになっていて BLE 用の gattlib というものがあったので少し動かした。

* [https://github.com/labapart/gattlib](https://github.com/labapart/gattlib)

```console
sudo apt install libbluetooth-dev libreadline-dev libglib2.0-dev libpcre3-dev
git clone https://github.com/labapart/gattlib.git
cd gattlib
git checkout -b v0.7.2 refs/tags/0.7.2
mkdir build && cd build
cmake ..
make
```

これでサンプルアプリまでビルドされる。

```console
$ ./examples/ble_scan/ble_scan
Discovered xx:xx:xx:xx:xx:xx
Scan completed
------------START xx:xx:xx:xx:xx:xx ---------------
```

xx... にはアドレスらしき値が出力されている。  
「らしき」なのは、いま手元に BLE peripheral がないからだ。

明日動かせたら追記しよう。
