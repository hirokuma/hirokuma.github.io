---
layout: record
title: "cargo workspace"
tags:
  - rust
daily: false
date: "2026/01/10"
---

`cargo new` で1つのプロジェクトを作る。  
そういう作り方ではなく、ワークスペースを作って複数のプロジェクトを持つこともできる。

* [rust: cargo の workspace - hiro99ma blog](https://blog.hirokuma.work/2025/11/20251112-rst.html)

といっても、`cargo workspace` だったり `cargo XXX --workspace` のようなコマンドがあるわけではない。
昔はあったようだが、少なくとも今(2026/01/10)はないようだ。  
なのでワークスペースを使うときは手動で `Cargo.toml` を編集することが多い。

## よいこと

おそらくメリットは、トップディレクトリに置いた `Cargo.toml` の `[dependencies]` を共有してバージョンを合わせられるところと、
ライブラリを複数持ちたいけれどもそれぞれ別のプロジェクトにするのは面倒なのが軽減される
というところではなかろうか。

ワークスペース内のライブラリは相対パスで `[dependencies]` に書くことができる。
これはワークスペースじゃなくてもできるのかも？

## 使いたいかどうか

ワークスペースを使いたいかどうかなので、使いたくなければそれでよいと思う。  
ライブラリも、他でも使いたいからライブラリにするという側面もあるだろう。
そうなると同じリポジトリにあっても使いづらいだろうから別のリポジトリにするだろう。  
最初はワークスペースで作りながら、最後に別のリポジトリにするというやり方もあるだろう。
