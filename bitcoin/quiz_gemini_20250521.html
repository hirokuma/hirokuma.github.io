<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ– Bitcoinã‚¯ã‚¤ã‚º</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Visualization & Content Choices:
        Quiz Content: Questions, multiple-choice options, correct answers.
        Presentation:
            - Questions/Options: HTML text for questions, styled buttons for options. Goal: Clear presentation of choices. Interaction: User clicks an option to select it; selected option is highlighted. Justification: Standard, intuitive quiz interaction.
            - Feedback: Text message indicating if the selected answer was correct or incorrect, with the correct answer shown if wrong. Goal: Immediate learning reinforcement. Interaction: Displayed after submitting an answer. Justification: Enhances understanding.
            - Navigation: Buttons to submit answer, move to the next question, or view results. Goal: Smooth progression through the quiz. Interaction: Click to proceed. Justification: Clear user flow.
            - Results: Score display (text), a bar chart (Chart.js) showing correct vs. incorrect answers, and a detailed list of all questions with user's answers and correct answers. Goal: Comprehensive performance summary and review. Interaction: "Try Again" button to restart. Justification: Allows users to assess their knowledge and re-engage.
        Library/Method: Vanilla JavaScript for quiz logic and DOM manipulation. Chart.js for the results summary chart. Tailwind CSS for styling.
    -->
    <style>
        body {
            font-family: 'Inter', sans-serif; /* Using Inter as a clean, modern font */
        }
        .option-button {
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
        }
        .option-button:hover {
            transform: translateY(-2px);
        }
        .option-button.selected {
            background-color: #3b82f6; /* Tailwind blue-500 */
            color: white;
            border-color: #2563eb; /* Tailwind blue-600 */
        }
        .option-button.correct {
            background-color: #22c55e; /* Tailwind green-500 */
            color: white;
            border-color: #16a34a; /* Tailwind green-600 */
        }
        .option-button.incorrect {
            background-color: #ef4444; /* Tailwind red-500 */
            color: white;
            border-color: #dc2626; /* Tailwind red-600 */
        }
        .chart-container {
            position: relative; /* For Chart.js responsiveness */
            width: 100%;
            max-width: 400px; /* Max width for the chart */
            height: 250px;    /* Base height */
        }
        @media (min-width: 640px) { /* sm breakpoint */
            .chart-container {
                height: 300px; /* Taller chart on larger screens */
            }
        }
    </style>
</head>
<body class="bg-stone-100 text-stone-800 min-h-screen flex flex-col items-center justify-center p-4 selection:bg-orange-200">

    <div class="container bg-white p-5 sm:p-8 rounded-xl shadow-2xl w-full max-w-2xl">
        <header class="mb-6 sm:mb-8 text-center">
            <h1 class="text-3xl sm:text-4xl font-bold text-orange-600">Bitcoinã‚¯ã‚¤ã‚º</h1>
            <p class="mt-2 text-sm sm:text-base text-stone-600">
                Bitcoinã«é–¢ã™ã‚‹çŸ¥è­˜ã‚’è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼å„è³ªå•ã«è¡¨ç¤ºã•ã‚Œã‚‹é¸æŠè‚¢ã‹ã‚‰ä¸€ã¤ã‚’é¸ã³ã€ã€Œå›ç­”ã™ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚
                æ­£è§£ãƒ»ä¸æ­£è§£ãŒè¡¨ç¤ºã•ã‚ŒãŸå¾Œã€ã€Œæ¬¡ã¸ã€ãƒœã‚¿ãƒ³ã§æ¬¡ã®å•é¡Œã«é€²ã‚€ã‹ã€æœ€çµ‚å•é¡Œå¾Œã¯çµæœã‚’ç¢ºèªã§ãã¾ã™ã€‚
            </p>
        </header>

        <main id="quiz-area" class="mb-6">
            <div id="question-container" class="mb-4">
                <p id="question-counter" class="text-xs sm:text-sm text-stone-500 mb-1"></p>
                <p id="question-text" class="text-lg sm:text-xl font-semibold text-stone-700"></p>
            </div>
            <div id="options-container" class="grid grid-cols-1 sm:grid-cols-2 gap-3 mb-5">
            </div>
            <div id="feedback-message" class="text-center h-12 mb-3 text-sm sm:text-base font-medium"></div>
            <div id="navigation-container" class="text-center">
                <button id="submit-button" class="bg-orange-500 hover:bg-orange-600 text-white font-semibold py-2.5 px-7 rounded-lg shadow-md transition duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-400 focus:ring-opacity-75">å›ç­”ã™ã‚‹</button>
            </div>
        </main>

        <section id="results-area" class="hidden text-center">
            <h2 class="text-2xl sm:text-3xl font-bold text-orange-600 mb-4">ã‚¯ã‚¤ã‚ºçµæœ</h2>
            <p id="score-text" class="text-xl sm:text-2xl mb-5 font-semibold"></p>
            <div class="chart-container mx-auto mb-6">
                <canvas id="results-chart"></canvas>
            </div>
            <div id="review-area" class="text-left mb-6 space-y-3">
                <h3 class="text-lg sm:text-xl font-semibold mb-3 text-stone-700 border-b pb-2">è§£ç­”ã®ç¢ºèªï¼š</h3>
            </div>
            <button id="restart-button" class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2.5 px-7 rounded-lg shadow-md transition duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75">ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦ã™ã‚‹</button>
        </section>
    </div>

    <script>
        const quizData = [
            {
                question: "Bitcoinã®å‰µå§‹è€…ã¨ã—ã¦çŸ¥ã‚‰ã‚Œã¦ã„ã‚‹åŒ¿åã®äººç‰©ã¾ãŸã¯ã‚°ãƒ«ãƒ¼ãƒ—ã®åå‰ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                options: ["ãƒãƒ«ãƒ»ãƒ•ã‚£ãƒ‹ãƒ¼", "ã‚µãƒˆã‚·ãƒ»ãƒŠã‚«ãƒ¢ãƒˆ", "ãƒ‹ãƒƒã‚¯ãƒ»ã‚µãƒœ", "ã‚¦ã‚§ã‚¤ãƒ»ãƒ€ã‚¤"],
                answer: "ã‚µãƒˆã‚·ãƒ»ãƒŠã‚«ãƒ¢ãƒˆ"
            },
            {
                question: "BitcoinãŒæœ€åˆã«å…¬é–‹ã•ã‚ŒãŸãƒ›ãƒ¯ã‚¤ãƒˆãƒšãƒ¼ãƒ‘ãƒ¼ã®ã‚¿ã‚¤ãƒˆãƒ«ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                options: ["Cryptocurrency: A New Digital Economy", "Bitcoin: A Peer-to-Peer Electronic Cash System", "The Future of Digital Currency", "Decentralized Ledger Technology"],
                answer: "Bitcoin: A Peer-to-Peer Electronic Cash System"
            },
            {
                question: "Bitcoinã®æœ€å°å˜ä½ã¯ä½•ã¨å‘¼ã°ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
                options: ["ãƒŸãƒªãƒ“ãƒƒãƒˆ", "ã‚µãƒˆã‚·", "ãƒ“ãƒƒãƒˆ", "ãƒŠãƒãƒ“ãƒƒãƒˆ"],
                answer: "ã‚µãƒˆã‚·"
            },
            {
                question: "Bitcoinã®ä¾›çµ¦ä¸Šé™ã¯ã€åˆè¨ˆã§ä½•æšã«è¨­å®šã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
                options: ["1,000ä¸‡æš", "2,100ä¸‡æš", "1å„„æš", "ç„¡åˆ¶é™"],
                answer: "2,100ä¸‡æš"
            },
            {
                question: "Bitcoinã®ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«ãŠã‘ã‚‹ã€Œãƒã‚¤ãƒ‹ãƒ³ã‚°ã€ã¨ã¯ã€ä¸»ã«ã©ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚»ã‚¹ã‚’æŒ‡ã—ã¾ã™ã‹ï¼Ÿ",
                options: ["æ–°ã—ã„Bitcoinã‚’ç™ºè¡Œã™ã‚‹ã“ã¨", "ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ¤œè¨¼ã—ã€æ–°ã—ã„ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½œæˆã™ã‚‹ã“ã¨", "Bitcoinã‚’å£²è²·ã™ã‚‹ã“ã¨", "ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚’ç®¡ç†ã™ã‚‹ã“ã¨"],
                answer: "ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ¤œè¨¼ã—ã€æ–°ã—ã„ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½œæˆã™ã‚‹ã“ã¨"
            },
            {
                question: "Bitcoinã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãŒãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«è¿½åŠ ã•ã‚Œã‚‹å‰ã«ã€é€šå¸¸ã€è¤‡æ•°ã®ãƒã‚¤ãƒŠãƒ¼ã«ã‚ˆã£ã¦ã©ã“ã«ä¸€æ™‚çš„ã«ä¿å­˜ã•ã‚Œã¾ã™ã‹ï¼Ÿ",
                options: ["ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸", "ãƒ¡ãƒ ãƒ—ãƒ¼ãƒ« (Mempool)", "ãƒ›ãƒƒãƒˆã‚¦ã‚©ãƒ¬ãƒƒãƒˆ", "ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã‚¦ã‚©ãƒ¬ãƒƒãƒˆ"],
                answer: "ãƒ¡ãƒ ãƒ—ãƒ¼ãƒ« (Mempool)"
            },
            {
                question: "Bitcoinã®ä¾¡æ ¼ãŒå¤§ããå¤‰å‹•ã™ã‚‹ç¾è±¡ã‚’ä½•ã¨å‘¼ã³ã¾ã™ã‹ï¼Ÿ",
                options: ["ã‚¤ãƒ³ãƒ•ãƒ¬", "ãƒ‡ãƒ•ãƒ¬", "ãƒœãƒ©ãƒ†ã‚£ãƒªãƒ†ã‚£", "æµå‹•æ€§"],
                answer: "ãƒœãƒ©ãƒ†ã‚£ãƒªãƒ†ã‚£"
            },
            {
                question: "Bitcoinã®ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã®ç¨®é¡ã§ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«æ¥ç¶šã•ã‚Œã¦ã„ãªã„çŠ¶æ…‹ã§ç§˜å¯†éµã‚’ä¿ç®¡ã™ã‚‹ã‚‚ã®ã‚’ä½•ã¨å‘¼ã³ã¾ã™ã‹ï¼Ÿ",
                options: ["ãƒ›ãƒƒãƒˆã‚¦ã‚©ãƒ¬ãƒƒãƒˆ", "ã‚¦ã‚§ãƒ–ã‚¦ã‚©ãƒ¬ãƒƒãƒˆ", "ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¦ã‚©ãƒ¬ãƒƒãƒˆ", "ãƒ¢ãƒã‚¤ãƒ«ã‚¦ã‚©ãƒ¬ãƒƒãƒˆ"],
                answer: "ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¦ã‚©ãƒ¬ãƒƒãƒˆ"
            },
            {
                question: "Bitcoinã®ä¸»è¦ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½ã®ä¸€ã¤ã§ã‚ã‚‹ã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®æ”¹ã–ã‚“ã‚’é˜²ããŸã‚ã®æŠ€è¡“ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                options: ["ãƒãƒ«ãƒã‚·ã‚°ãƒãƒãƒ£", "ãƒãƒƒã‚·ãƒ¥é–¢æ•°", "ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆ", "ãƒ©ã‚¤ãƒˆãƒ‹ãƒ³ã‚°ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯"],
                answer: "ãƒãƒƒã‚·ãƒ¥é–¢æ•°"
            },
            {
                question: "Bitcoinã®ãƒ–ãƒ­ãƒƒã‚¯ç”Ÿæˆã«ã‹ã‹ã‚‹å¹³å‡çš„ãªæ™‚é–“ï¼ˆç›®æ¨™å€¤ï¼‰ã¯ç´„ä½•åˆ†ã§ã™ã‹ï¼Ÿ",
                options: ["1åˆ†", "5åˆ†", "10åˆ†", "30åˆ†"],
                answer: "10åˆ†"
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let userAnswers = [];
        let selectedOption = null;
        let chartInstance = null;

        const questionTextEl = document.getElementById('question-text');
        const questionCounterEl = document.getElementById('question-counter');
        const optionsContainerEl = document.getElementById('options-container');
        const feedbackMessageEl = document.getElementById('feedback-message');
        const submitButtonEl = document.getElementById('submit-button');

        const quizAreaEl = document.getElementById('quiz-area');
        const resultsAreaEl = document.getElementById('results-area');
        const scoreTextEl = document.getElementById('score-text');
        const reviewAreaEl = document.getElementById('review-area');
        const restartButtonEl = document.getElementById('restart-button');

        function loadQuestion() {
            selectedOption = null;
            feedbackMessageEl.textContent = '';
            submitButtonEl.disabled = true;
            submitButtonEl.textContent = 'å›ç­”ã™ã‚‹';

            const currentQuestion = quizData[currentQuestionIndex];
            questionTextEl.textContent = currentQuestion.question;
            questionCounterEl.textContent = `è³ªå• ${currentQuestionIndex + 1} / ${quizData.length}`;
            optionsContainerEl.innerHTML = '';

            currentQuestion.options.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('option-button', 'w-full', 'text-left', 'p-3', 'sm:p-4', 'border-2', 'border-stone-300', 'rounded-lg', 'hover:bg-orange-100', 'focus:outline-none', 'focus:ring-2', 'focus:ring-orange-300');
                button.onclick = () => selectOption(button, option);
                optionsContainerEl.appendChild(button);
            });
        }

        function selectOption(buttonEl, option) {
            Array.from(optionsContainerEl.children).forEach(btn => btn.classList.remove('selected'));
            buttonEl.classList.add('selected');
            selectedOption = option;
            submitButtonEl.disabled = false;
        }

        function handleSubmit() {
            if (!selectedOption) return;

            const currentQuestion = quizData[currentQuestionIndex];
            const correctAnswer = currentQuestion.answer;
            userAnswers[currentQuestionIndex] = selectedOption;

            Array.from(optionsContainerEl.children).forEach(button => {
                button.disabled = true;
                if (button.textContent === correctAnswer) {
                    button.classList.add('correct');
                } else if (button.textContent === selectedOption) {
                    button.classList.add('incorrect');
                }
                 button.classList.remove('hover:bg-orange-100'); // Remove hover effect after submission
            });

            if (selectedOption === correctAnswer) {
                score++;
                feedbackMessageEl.textContent = 'æ­£è§£ã§ã™ï¼ğŸ‰';
                feedbackMessageEl.classList.remove('text-red-600');
                feedbackMessageEl.classList.add('text-green-600');
            } else {
                feedbackMessageEl.textContent = `ä¸æ­£è§£ã§ã™ã€‚æ­£è§£ã¯ã€Œ${correctAnswer}ã€ã§ã—ãŸã€‚`;
                feedbackMessageEl.classList.remove('text-green-600');
                feedbackMessageEl.classList.add('text-red-600');
            }

            submitButtonEl.textContent = (currentQuestionIndex < quizData.length - 1) ? 'æ¬¡ã®è³ªå•ã¸' : 'çµæœã‚’è¦‹ã‚‹';
            submitButtonEl.onclick = handleNext;
        }

        function handleNext() {
            currentQuestionIndex++;
            if (currentQuestionIndex < quizData.length) {
                loadQuestion();
                submitButtonEl.onclick = handleSubmit; // Reset to submit for next question
            } else {
                showResults();
            }
        }

        function showResults() {
            quizAreaEl.classList.add('hidden');
            resultsAreaEl.classList.remove('hidden');
            scoreTextEl.textContent = `${quizData.length}å•ä¸­ ${score}å• æ­£è§£ï¼`;

            reviewAreaEl.innerHTML = '<h3 class="text-lg sm:text-xl font-semibold mb-3 text-stone-700 border-b pb-2">è§£ç­”ã®ç¢ºèªï¼š</h3>';
            quizData.forEach((question, index) => {
                const reviewItem = document.createElement('div');
                reviewItem.classList.add('p-3', 'rounded-md', 'border');
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer === question.answer;

                reviewItem.innerHTML = `
                    <p class="font-semibold text-sm sm:text-base">${index + 1}. ${question.question}</p>
                    <p class="text-xs sm:text-sm mt-1">ã‚ãªãŸã®å›ç­”: <span class="${isCorrect ? 'text-green-600' : 'text-red-600'} font-medium">${userAnswer || "æœªå›ç­”"}</span> ${isCorrect ? 'âœ”ï¸' : 'âŒ'}</p>
                    ${!isCorrect ? `<p class="text-xs sm:text-sm mt-0.5">æ­£è§£: <span class="text-green-600 font-medium">${question.answer}</span></p>` : ''}
                `;
                reviewItem.classList.add(isCorrect ? 'bg-green-50 border-green-200' : 'bg-red-50 border-red-200');
                reviewAreaEl.appendChild(reviewItem);
            });

            renderResultsChart();
        }

        function renderResultsChart() {
            const ctx = document.getElementById('results-chart').getContext('2d');
            if (chartInstance) {
                chartInstance.destroy();
            }
            chartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['æ­£è§£', 'ä¸æ­£è§£'],
                    datasets: [{
                        label: 'è§£ç­”æ•°',
                        data: [score, quizData.length - score],
                        backgroundColor: [
                            'rgba(34, 197, 94, 0.6)', // green-500 with opacity
                            'rgba(239, 68, 68, 0.6)'  // red-500 with opacity
                        ],
                        borderColor: [
                            'rgba(22, 163, 74, 1)',  // green-600
                            'rgba(220, 38, 38, 1)'   // red-600
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                stepSize: 1
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `${context.label}: ${context.raw} å•`;
                                }
                            }
                        }
                    }
                }
            });
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            userAnswers = [];
            selectedOption = null;
            resultsAreaEl.classList.add('hidden');
            quizAreaEl.classList.remove('hidden');
            feedbackMessageEl.textContent = '';
            if (chartInstance) {
                chartInstance.destroy();
                chartInstance = null;
            }
            loadQuestion();
            submitButtonEl.onclick = handleSubmit; // Reset to initial submit
        }

        submitButtonEl.onclick = handleSubmit;
        restartButtonEl.onclick = restartQuiz;

        loadQuestion(); // Initial load
    </script>
</body>
</html>
